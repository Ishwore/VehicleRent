{"ast":null,"code":"var _jsxFileName = \"/home/ishwore/Documents/VehicleRent/front-end/src/screen/Khalti.js\";\nimport React from \"react\";\nimport KhaltiCheckout from \"khalti-checkout-web\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst KhaltiPaymentComponent = ({\n  id,\n  name,\n  vid\n}) => {\n  const verify = async payload => {\n    let data = {\n      \"token\": payload.token,\n      \"amount\": payload.amount\n    };\n    let configs = {\n      headers: {\n        'Authorization': 'Key test_secret_key_5718c104157c4cea8676a8681a53ace8'\n      }\n    };\n    const response = await axios.post(`https://khalti.com/api/v2/payment/verify/`, data, configs);\n    const result = await response.json();\n    console.log(result);\n  };\n  const handlePayment = () => {\n    const config = {\n      publicKey: \"test_public_key_20ba6979112a4822bc3bdcb767d84dcf\",\n      productIdentity: `${vid}`,\n      productName: `${name}`,\n      productUrl: `http://localhost:3000/veiwbookingdetails/${id}`,\n      eventHandler: {\n        onSuccess: payload => {\n          // hit merchant api for initiating verification\n          console.log(payload);\n          verify(payload);\n\n          // axios.get(\"https://khalti.com/api/v2/payment/status/\", data, configs)\n          //     .then(response => {\n          //         console.log(response.data);\n          //     })\n          //     .catch(error => {\n          //         console.log(error);\n          //     });\n        },\n\n        onError: error => {\n          // handle errors\n          console.log(error);\n        },\n        onClose: () => {\n          console.log(\"widget is closing\");\n        }\n      },\n      paymentPreference: [\"KHALTI\", \"EBANKING\", \"MOBILE_BANKING\", \"CONNECT_IPS\", \"SCT\"]\n    };\n    const checkout = new KhaltiCheckout(config);\n    // minimum transaction amount must be 10, i.e., 1000 in paisa.\n    checkout.show({\n      amount: 10000\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    id: \"payment-button \",\n    className: \"bg-red-500 rounded-2xl px-3 py-2 text-white\",\n    onClick: handlePayment,\n    children: \"Pay with Khalti\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }, this);\n};\n_c = KhaltiPaymentComponent;\nexport default KhaltiPaymentComponent;\nvar _c;\n$RefreshReg$(_c, \"KhaltiPaymentComponent\");","map":{"version":3,"names":["React","KhaltiCheckout","axios","jsxDEV","_jsxDEV","KhaltiPaymentComponent","id","name","vid","verify","payload","data","token","amount","configs","headers","response","post","result","json","console","log","handlePayment","config","publicKey","productIdentity","productName","productUrl","eventHandler","onSuccess","onError","error","onClose","paymentPreference","checkout","show","className","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/ishwore/Documents/VehicleRent/front-end/src/screen/Khalti.js"],"sourcesContent":["import React from \"react\";\nimport KhaltiCheckout from \"khalti-checkout-web\";\nimport axios from \"axios\";\n\nconst KhaltiPaymentComponent = ({ id, name, vid }) => {\n    const verify = async (payload) => {\n        let data = {\n            \"token\": payload.token,\n            \"amount\": payload.amount\n        };\n\n        let configs = {\n            headers: { 'Authorization': 'Key test_secret_key_5718c104157c4cea8676a8681a53ace8' }\n        };\n\n        const response = await axios.post(`https://khalti.com/api/v2/payment/verify/`, data, configs);\n        const result = await response.json();\n        console.log(result);\n    }\n\n    const handlePayment = () => {\n        const config = {\n            publicKey: \"test_public_key_20ba6979112a4822bc3bdcb767d84dcf\",\n            productIdentity: `${vid}`,\n            productName: `${name}`,\n            productUrl: `http://localhost:3000/veiwbookingdetails/${id}`,\n            eventHandler: {\n                onSuccess: (payload) => {\n                    // hit merchant api for initiating verification\n                    console.log(payload);\n                    verify(payload);\n\n\n                    // axios.get(\"https://khalti.com/api/v2/payment/status/\", data, configs)\n                    //     .then(response => {\n                    //         console.log(response.data);\n                    //     })\n                    //     .catch(error => {\n                    //         console.log(error);\n                    //     });\n\n                },\n                onError: (error) => {\n                    // handle errors\n                    console.log(error);\n                },\n                onClose: () => {\n                    console.log(\"widget is closing\");\n                },\n            },\n            paymentPreference: [\"KHALTI\", \"EBANKING\", \"MOBILE_BANKING\", \"CONNECT_IPS\", \"SCT\"],\n        };\n\n        const checkout = new KhaltiCheckout(config);\n        // minimum transaction amount must be 10, i.e., 1000 in paisa.\n        checkout.show({ amount: 10000 });\n    };\n\n    return (\n        <button id=\"payment-button \" className=\"bg-red-500 rounded-2xl px-3 py-2 text-white\" onClick={handlePayment}>\n            Pay with Khalti\n        </button>\n    );\n};\n\nexport default KhaltiPaymentComponent;\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,cAAc,MAAM,qBAAqB;AAChD,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,sBAAsB,GAAGA,CAAC;EAAEC,EAAE;EAAEC,IAAI;EAAEC;AAAI,CAAC,KAAK;EAClD,MAAMC,MAAM,GAAG,MAAOC,OAAO,IAAK;IAC9B,IAAIC,IAAI,GAAG;MACP,OAAO,EAAED,OAAO,CAACE,KAAK;MACtB,QAAQ,EAAEF,OAAO,CAACG;IACtB,CAAC;IAED,IAAIC,OAAO,GAAG;MACVC,OAAO,EAAE;QAAE,eAAe,EAAE;MAAuD;IACvF,CAAC;IAED,MAAMC,QAAQ,GAAG,MAAMd,KAAK,CAACe,IAAI,CAAE,2CAA0C,EAAEN,IAAI,EAAEG,OAAO,CAAC;IAC7F,MAAMI,MAAM,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;IACpCC,OAAO,CAACC,GAAG,CAACH,MAAM,CAAC;EACvB,CAAC;EAED,MAAMI,aAAa,GAAGA,CAAA,KAAM;IACxB,MAAMC,MAAM,GAAG;MACXC,SAAS,EAAE,kDAAkD;MAC7DC,eAAe,EAAG,GAAEjB,GAAI,EAAC;MACzBkB,WAAW,EAAG,GAAEnB,IAAK,EAAC;MACtBoB,UAAU,EAAG,4CAA2CrB,EAAG,EAAC;MAC5DsB,YAAY,EAAE;QACVC,SAAS,EAAGnB,OAAO,IAAK;UACpB;UACAU,OAAO,CAACC,GAAG,CAACX,OAAO,CAAC;UACpBD,MAAM,CAACC,OAAO,CAAC;;UAGf;UACA;UACA;UACA;UACA;UACA;UACA;QAEJ,CAAC;;QACDoB,OAAO,EAAGC,KAAK,IAAK;UAChB;UACAX,OAAO,CAACC,GAAG,CAACU,KAAK,CAAC;QACtB,CAAC;QACDC,OAAO,EAAEA,CAAA,KAAM;UACXZ,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;QACpC;MACJ,CAAC;MACDY,iBAAiB,EAAE,CAAC,QAAQ,EAAE,UAAU,EAAE,gBAAgB,EAAE,aAAa,EAAE,KAAK;IACpF,CAAC;IAED,MAAMC,QAAQ,GAAG,IAAIjC,cAAc,CAACsB,MAAM,CAAC;IAC3C;IACAW,QAAQ,CAACC,IAAI,CAAC;MAAEtB,MAAM,EAAE;IAAM,CAAC,CAAC;EACpC,CAAC;EAED,oBACIT,OAAA;IAAQE,EAAE,EAAC,iBAAiB;IAAC8B,SAAS,EAAC,6CAA6C;IAACC,OAAO,EAAEf,aAAc;IAAAgB,QAAA,EAAC;EAE7G;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAQ,CAAC;AAEjB,CAAC;AAACC,EAAA,GA3DItC,sBAAsB;AA6D5B,eAAeA,sBAAsB;AAAC,IAAAsC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}